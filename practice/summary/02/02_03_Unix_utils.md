# 02.03 Unix utils - Работы в консольных редакторах (vim, nano, mc)

## Теория

### nano
Встроенный текстовый редактор в Unix подобных системах. Из коробки есть абсолютно везде.

### mcedit (mc)
Чуть навороченнее чем nano. До 64Мб файл.
- Есть удобный поиск по тексту с заменой (search / replace).
  - regex search
  - backwards: включает поиск вверх
- Навигация стрелками / табом / командами F*

### vim

## Задание 1: отредактируй файл разными редакторами
- Done

## Задание 2: vim: изучи возможности

### vim-adventures
- прошел 3 уровня
- дальшей запросило денех, дропнул
- кажется mс и mcedit более человеческий

### vimtutor - учебник по vim
`vim`

**Документация**:
- help: разводящая помощи
- help {комманда}: man по команде
- user_n.txt: различный manual по функционалу

**Настройка**:
- `'~/.vimrc`
- `:help vimrc-intro`: другая информация
- Параметры (`defaults.vim`):
  - ruler: отображение текущей позиции

**Навигация**:
- hjkl: перемещение каретки (или стрелки)
- w: вперед по словам
- b: назад по словам
- gg: первая строка
- SHIFT + G: последняя строка
  - n + (SHIFT + G): перемещение на строку n
- Control + G: текущая позиция
- / или ? + искомое слово: поиск вниз \ вверх
  - n: повторить поиск вниз
  - SHIFT + n: повторить вверх 
  - Control + O: вернуться по результатам поиска
  - Control + I: идти вперед по результатам поиска
- % + каретка на скобке: поиск парных скобок
- Control + D (в режиме команд): подстановка всех возможных команды 
- TAB (в режиме команд): подстановка команды

**Построение команды: {сколько раз}{оператор}{сколько раз}{область действия}**
- dw: удаление слова от каретки до конца **слова**
- d$: удаление от коретки до конца **строки**
- d$: удаление от коретки до начала **строки**
- 2w: переместится на **два** слова
- d2w: удалить **два** слова
- 2dd: удаление **двух** строк

**Области действия**:
- w: слово (без пробела)
- e: слово (с пробелом)
- $: конец строки

**Базовое редактирование**
- Открытие
  - e (edit): открытие файла на редактирование
- Удаление
  - x: удаление символа под кареткой
  - dd, cc: удаление строки / (+ режим вставки)  
  - d{область}: удаление символов от каретки до {область действия}
  - c{область}: удаление символов от каретки до {область действия}
- Вставка
  - i, a: режим ввода символов (insert)
  - A: перемещение в конец строки + режим ввода
  - o: вставка новая строки **ниже** каретки + режима вставки
  - O: вставка новой строк **выше**
- Замена
  - r: замена одного символа (replace)
    - SHIFT + R: режим замены символов
  - r {путь к файлу/команда}: вставка содержимого файла / результат внешней команды (ex: !ls) ниже каретки
- Копирование
  - v: режим визуального представления (visual)
  - y{область действия}: копирование
  - p: вставка скопированного \ последнего удаленного текста

**Назначение клавиш**
- ESC: переключение режимов (команды)
- u: отмена последнего изменения
- U: отмена всех изменений в строке
- CTRL-R: возврат изменений
- q: выход без сохранения изменений
- wq: выход с сохранением изменений

**Продвинутые Команды**
- w {имя файла}: запись в файл
  - '<,'> : частичное сохранение
- :{диапазон}s/что/чем/{флаг}: замена слов (аналог sed)
  - диапазон
    - пустой: смотрит на флаг
    - #,#: от # строки до # строки
    - %: во всем файле
  - флаг (или комбинация)
    - без: первое вхождение
    - g: до конца строки
    - c: запрос перед каждой заменой
- :!{команда} : вызов внешней команды (ex.: ls)
- :set {параметры}: установка параметров
  - ic: 'ignorecase' игнорирование регистра символов при поиске
  - is: 'incsearch' отображение частичных совпадений при поиске
  - hls: 'hlsearch' подсветка всех совпадений при поиске
  - no{параметр}: отключение параметра

## Ссылки
- [Игра для изучения Vim](https://habr.com/ru/articles/377721/)
- [Как освоить Vim?](https://habr.com/ru/companies/ruvds/articles/544160/)
- [vimtutor](https://manpages.ubuntu.com/manpages/bionic/ru/man1/vimtutor.1.html)
- [vimium](https://github.com/philc/vimium)
- [vimtutor-sequel](https://github.com/micahkepe/vimtutor-sequel)
- книга Vim - Vi Improved
